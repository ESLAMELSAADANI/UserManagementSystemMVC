@model UserRoleVM
@{
	ViewData["Title"] = "ViewRoles";
}

<div class="container my-5">
	<h1 class="text-center text-dark mb-4">
		Manage Roles for <span class="text-primary fw-bold">@Model.User.UserName</span>
	</h1>

	<div class="row g-4">
		<!-- Roles To Delete -->
		<div class="col-md-6">
			<div class="card shadow-lg border-danger">
				<div class="card-header bg-danger text-white text-center fw-bold">
					Roles to Delete
				</div>
				<div class="card-body">
					<form asp-action="DeleteSelectedRoles" method="post">
						<input type="hidden" asp-for="User.Id" value="@Model.User.Id" />
						<input type="hidden" asp-for="User.UserName" value="@Model.User.UserName" />

						<table class="table table-striped table-hover align-middle text-center">
							<thead class="table-danger">
								<tr>
									<th>ID</th>
									<th>Role Name</th>
									<th>Select</th>
								</tr>
							</thead>
							<tbody>
								@if (Model.RolesToDelete == null || Model.RolesToDelete.Count == 0)
								{
									<tr>
										<td colspan="3" class="text-muted">No Roles To Delete</td>
									</tr>
								}
								else
								{
									@foreach (var role in Model.RolesToDelete)
									{
										<tr>
											<td>@role.Id</td>
											<td>@role.RoleName</td>
											<td>
												<input class="form-check-input" type="checkbox" name="RolesToDeleteIds" value="@role.Id" />
											</td>
										</tr>
									}
								}
							</tbody>
						</table>
						<div class="text-center mt-3">
							<button class="btn btn-danger px-4" type="submit">
								<i class="bi bi-trash"></i> Delete Selected
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- Roles To Add -->
		<div class="col-md-6">
			<div class="card shadow-lg border-success">
				<div class="card-header bg-success text-white text-center fw-bold">
					Roles to Add
				</div>
				<div class="card-body">
					<form asp-action="AddSelectedRoles" method="post">
						<input type="hidden" asp-for="User.Id" value="@Model.User.Id" />
						<input type="hidden" asp-for="User.UserName" value="@Model.User.UserName" />

						<table class="table table-striped table-hover align-middle text-center">
							<thead class="table-success">
								<tr>
									<th>ID</th>
									<th>Role Name</th>
									<th>Select</th>
								</tr>
							</thead>
							<tbody>
								@if (Model.RolesToAdd == null || Model.RolesToAdd.Count == 0)
								{
									<tr>
										<td colspan="3" class="text-muted">No Roles To Add</td>
									</tr>
								}
								else
								{
									@foreach (var role in Model.RolesToAdd)
									{
										<tr>
											<td>@role.Id</td>
											<td>@role.RoleName</td>
											<td>
												<input class="form-check-input" type="checkbox" name="RolesToAddIds" value="@role.Id" />
											</td>
										</tr>
									}
								}
							</tbody>
						</table>
						<div class="text-center mt-3">
							<button class="btn btn-success px-4" type="submit">
								<i class="bi bi-plus-circle"></i> Add Selected
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}
